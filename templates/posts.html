{% extends 'base.html' %}

{% block head %}
<title>Posts</title>
{% endblock %}

{% block body %}
<br>
<div>
<h1 style = "display:inline">All posts</h1>
<a class="btn btn-success float-right" href="/posts/new" >+ New posts</a>
</div>

<hr>
<h2>Create New Blog Post:</h2>
<form action='/posts' method='POST'>

    <label for="Title">Title</label>
    <input class="form-control" type="text" name='title' id='title' placeholder="enter Title" aria-label="Enter title">
    <br>

    <label for="Author">Author</label>
    <input class="form-control" type="text" name='author' id='author' placeholder="enter Title"
        aria-label="Enter title">
    <br>

    <label for="Content">Content</label>
    <textarea class="form-control" name='content' id='content' rows="3"></textarea>
    
    <br>
    <input type='submit' value='Post'>
</form>

</hr>

{% for post in posts%}
<br>
<h2>{{ post.title }}</h2>

{% if post.author %}
<small>Writed by {{post.author}} on {{post.date_posted}}</small>

{% else %}
<small>Writed by Unknow on {{post.date_posted}}</small>

{% endif %}

<p style="white-space:pre-wrap">{{ post.content  }}</p>
<a class="btn btn-danger" href='/posts/delete/{{post.id}}'>Delete</a>
<a class="btn btn-primary" href='/posts/edit/{{post.id}}'>Edit</a>
<hr>
{% endfor%}

{% endblock %}